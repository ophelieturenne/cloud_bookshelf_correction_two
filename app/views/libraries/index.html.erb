<h1>Libraries</h1>

<% if policy(Library).create? %>
  <%= link_to "Add New Library", new_library_path, class: "btn btn-primary" %>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Unique ID</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @libraries.each do |library| %>
      <tr>
        <td><%= library.name %></td>
        <td><%= library.unique_id %></td>
        <td>
          <% if policy(library).show? %>
            <%= link_to "View", library_path(library), class: "btn btn-secondary" %>
          <% end %>
          <% if policy(library).update? %>
            <%= link_to "Edit", edit_library_path(library), class: "btn btn-warning" %>
          <% end %>
          <% if policy(library).destroy? %>
            <%= link_to "Delete", library_path(library), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger" %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
